<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!-- TODO: set page title -->
        <title>[TITLE GOES HERE]</title>

        <!-- Stylesheets -->
        <link rel="stylesheet" href="css/application.css">
    </head>
    <body>

        <script type="text/x-handlebars">
            <!-- Page header (currently unused) -->
            <div class="header">
                <img src="img/icon32.png">
                <h2>REST Easy</h2>
            </div>

            <!-- Request pane -->
            {{view RESTEasy.RequestView}}

            <!-- Splitter between panes -->
            <div class="splitter"></div>

            <!-- Response pane -->
            {{view RESTEasy.ResponseView}}
        </script>

        <!-- Request view -->
        <script type="text/x-handlebars" data-template-name="app-request">
            <div class="request">
                <!-- Request method, URL, and send button -->
                <div class="float-left">
                    {{combo-box choices=controller.methods selection=controller.method}}
                </div>
                <button class="float-right" {{action 'send'}}>Send</button>
                <div class="control">
                    {{input placeholder='http://' value=controller.url}}
                </div>

                <!-- HTTP headers -->
                {{#collapsible-section title='Headers'}}
                    <p class="help">The headers specified below will be added to the browser's default standard headers.</p>
                    {{editable-table entries=controller.requestHeaders}}
                {{/collapsible-section}}

                <!-- POST data -->
                {{#collapsible-section title='POST Data'}}
                    <div>TODO: Content goes here</div>
                {{/collapsible-section}}

                <!-- Authentication data -->
                {{#collapsible-section title='Authentication'}}
                    <p class="help">The parameters provided below will be used for HTTP Basic Auth.</p>
                    <div class="control">
                        {{input placeholder='Username' value=username}}
                    </div>
                    <div class="control">
                        {{input placeholder='Password' value=password}}
                    </div>
                {{/collapsible-section}}
            </div>
        </script>

        <!-- Response view -->
        <script type="text/x-handlebars" data-template-name="app-response">
            <div class="response">
                {{#tab-container}}
                    {{tab-button activeTab=controller.activeTab name="headers" title="Headers"}}
                    {{tab-button activeTab=controller.activeTab name="raw" title="Raw"}}
                    {{tab-button activeTab=controller.activeTab name="preview" title="Preview"}}
                    {{#tab-content activeTab=controller.activeTab name="headers"}}
                        <p>Headers</p>
                    {{/tab-content}}
                    {{#tab-content activeTab=controller.activeTab name="raw"}}
                        <p>Raw</p>
                    {{/tab-content}}
                    {{#tab-content activeTab=controller.activeTab name="preview"}}
                        <p>Preview</p>
                    {{/tab-content}}
                {{/tab-container}}
            </div>
        </script>

        <!-- Combo box control -->
        <script type="text/x-handlebars" data-template-name="components/combo-box">
            <button {{action 'toggle'}}>{{selection}}</button>
            <ul {{bind-attr class=':menu expanded'}}>
                {{#each choices}}
                    <li {{action 'select' this}}>{{this}}</li>
                {{/each}}
            </ul>
        </script>

        <!-- Collapsible section control -->
        <script type="text/x-handlebars" data-template-name="components/collapsible-section">
            <h4>
                <button {{bind-attr class=":expand expanded"}} {{action 'toggle'}}></button>
                {{title}}
            </h4>
            <div {{bind-attr class=":content expanded"}}>
                {{yield}}
            </div>
        </script>

        <!-- Editable table control -->
        <script type="text/x-handlebars" data-template-name="components/editable-table">
            <tr>
                <th>Name</th>
                <th>Value</th>
                <th></th>
            </tr>
            {{#each entries}}
                <tr>
                    <td>{{name}}</td>
                    <td>{{value}}</td>
                    <td>
                        <button {{action 'remove' this}}>&times;</button>
                    </td>
                </tr>
            {{else}}
                <tr>
                    <td colspan="3">
                        <p class="info">Table is empty</p>
                    </td>
                </tr>
            {{/each}}
            <tr>
                <td><div class="control">{{input placeholder='Name' value=name}}</div></td>
                <td><div class="control">{{input placeholder='Value' value=value}}</div></td>
                <td>
                    <button {{action 'add'}}>+</button>
                </td>
            </tr>
        </script>

        <!-- Tab container control -->
        <script type="text/x-handlebars" data-template-name="components/tab-container">
            {{ yield }}
        </script>

        <!-- Tab button control -->
        <script type="text/x-handlebars" data-template-name="components/tab-button">
            {{title}}
        </script>

        <!-- Tab content control -->
        <script type="text/x-handlebars" data-template-name="components/tab-content">
            {{yield}}
        </script>

        <!-- Scripts -->
        <script src="vendor/js/jquery.min.js"></script>
        <script src="vendor/js/handlebars.min.js"></script>
        <script src="vendor/js/ember.min.js"></script>
        <script src="js/combo.js"></script>
        <script src="js/sections.js"></script>
        <script src="js/splitter.js"></script>
        <script src="js/tabs.js"></script>
        <script src="js/application.js"></script>
    </body>
</html>
